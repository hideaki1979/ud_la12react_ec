-- ProxySQL監視用ユーザー（ProxySQLコンテナからのみ接続可能）
CREATE USER IF NOT EXISTS '${PROXYSQL_MONITOR_USER}'@'laravel_proxysql.laravel' IDENTIFIED BY '${PROXYSQL_MONITOR_PASSWORD}';
GRANT USAGE, REPLICATION CLIENT ON *.* TO '${PROXYSQL_MONITOR_USER}'@'laravel_proxysql.laravel';
-- Docker内部ネットワークからの接続も許可（サービス名解決用）
CREATE USER IF NOT EXISTS '${PROXYSQL_MONITOR_USER}'@'172.%.%.%' IDENTIFIED BY '${PROXYSQL_MONITOR_PASSWORD}';
GRANT USAGE, REPLICATION CLIENT ON *.* TO '${PROXYSQL_MONITOR_USER}'@'172.%.%.%';
FLUSH PRIVILEGES;
